{% comment %}
  Key Ingredients Section with Swiper.js
{% endcomment %}
{% # theme-check-disable %}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">

<section class="key-ingredients-section bg-[#F9F7F7] py-[60px] relative z-0 {{ section.settings.extra_class }}">
  <div class="container_fluid">
    {% if section.settings.heading != blank %}
      <div class="key-ingredient-title-start text-left mb-[30px] min-990:mb-[60px]">
        <h2 class="main-section-title color-primary-blue">{{ section.settings.heading }}</h2>
      </div>
    {% endif %}

    <div class="ingredients-swiper-above relative">
      <div class="swiper key-ingredients-swiper">
        <div class="swiper-wrapper">
          {% for block in section.blocks %}
            <div class="swiper-slide">
              <div class="ingredient-card">
                {% if block.settings.image %}
                  <img
                    src="{{ block.settings.image | image_url: width: 4096 }}"
                    alt="{{ block.settings.title }}"
                    class="ingredient-image rounded-[25px] w-full aspect-[0.86/1] object-cover"
                    height="auto"
                    width="auto"
                  >
                {% endif %}
                <div class="ingredient-swiper-details text-center mt-20">
                  {% if block.settings.title != blank %}
                    <div class="ingredient-swiper-details-title">
                      <h6 class="ingredient-title">{{ block.settings.title }}</h6>
                    </div>
                  {% endif %}
                  {% if block.settings.description != blank %}
                    <div class="ingredient-swiper-details-text mt-10">
                      <p class="ingredient-description color-grey-50">
                        {{ block.settings.description }}
                      </p>
                    </div>
                  {% endif %}
                  {% if block.settings.description2 != blank %}
                    <p class="ingredient-description color-grey-50">{{ block.settings.description2 }}</p>
                  {% endif %}
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
      <div class="swiper-button-prev key-ingredients-swiper-arrow">
        <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60" fill="none">
          <circle cx="30" cy="30" r="30" transform="rotate(-90 30 30)" fill="white"/>
          <path d="M30.2041 18.849L19 29.4906C21.7155 32.2485 27.1104 37.7587 29.826 40.5168L31.2396 39.1959C28.7968 36.7155 25.566 33.4108 22.7153 30.5119L40.6508 30.8252L40.6842 28.9124L22.7487 28.5992L31.5705 20.233L30.2041 18.849Z" fill="#112D4E"/>
        </svg>
      </div>
      <div class="swiper-button-next key-ingredients-swiper-arrow">
        <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60" fill="none">
          <circle cx="30" cy="30" r="30" transform="matrix(0 -1 -1 0 60 60)" fill="white"/>
          <path d="M29.7956 18.849L40.9998 29.4906C38.2842 32.2485 32.8894 37.7587 30.1737 40.5168L28.7602 39.1959C31.203 36.7155 34.4337 33.4108 37.2844 30.5119L19.3489 30.8252L19.3155 28.9124L37.2511 28.5992L28.4293 20.233L29.7956 18.849Z" fill="#112D4E"/>
        </svg>
      </div>
    </div>
  </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
  new Swiper('.key-ingredients-swiper', {
    slidesPerView: 1,
    spaceBetween: 30,
    loop: true,
    navigation: {
      nextEl: '.swiper-button-next.key-ingredients-swiper-arrow',
      prevEl: '.swiper-button-prev.key-ingredients-swiper-arrow',
    },
    breakpoints: {
      576: {
        slidesPerView: 2,
      },
      768: {
        slidesPerView: 3,
      },
      1024: {
        slidesPerView: 4,
      },
    },
  });
</script>

{% schema %}
{
  "name": "Key Ingredients",
  "settings": [
    {
      "type": "text",
      "id": "extra_class",
      "label": "Extra Class"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Key Ingredients"
    }
  ],
  "blocks": [
    {
      "type": "ingredient",
      "name": "Ingredient",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Ingredient Name"
        },
        {
          "type": "text",
          "id": "description",
          "label": "Description Line 1",
          "default": "Short description"
        },
        {
          "type": "text",
          "id": "description2",
          "label": "Description Line 2"
        }
      ]
    }
  ],
  "max_blocks": 12,
  "presets": [
    {
      "name": "Key Ingredients",
      "category": "Custom"
    }
  ]
}
{% endschema %}
